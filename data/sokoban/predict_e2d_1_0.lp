#program base.
%--------------------------------------------------
% Generated by main.py
%--------------------------------------------------
% 
% Time 1:
% .......
% .m.b...
% ...b...
% .......
% east
% 
% Time 2:
% .......
% ..mb...
% ...b...
% .......
% east
% 
% Time 3:
% .......
% ...mb..
% ...b...
% .......
% south
% 
% Time 4:
% .......
% ....b..
% ...m...
% ...b...
% east
% 
% Time 5:
% .......
% ....b..
% ....m..
% ...b...
% north
% 
% Time 6:
% ....b..
% ....m..
% .......
% ...b...
% west
% 
% Time 7:
% ....b..
% ...m...
% .......
% ...b...
% west
% 
% Time 8:
% ....b..
% ..m....
% .......
% ...b...
% south
% 
% Time 9:
% ....b..
% .......
% ..m....
% ...b...
% south
% 
% Time 10:
% ....b..
% .......
% .......
% ..mb...
% west
% 
% Time 11:
% ....b..
% .......
% .......
% .m.b...
% west
% 
% Time 12:
% ....b..
% .......
% .......
% m..b...
% west
% 
% Time 13:
% ....b..
% .......
% .......
% m..b...
% north
% 
% Time 14:
% ....b..
% .......
% m......
% ...b...
% noop
% 

% The given sequence
senses(s2(c_in_1, obj_x1, obj_cell_2_2), 1).
senses(s2(c_in_2, obj_x2, obj_cell_4_2), 1).
senses(s2(c_in_2, obj_x3, obj_cell_4_3), 1).
senses(s2(c_in_1, obj_x1, obj_cell_3_2), 2).
senses(s2(c_in_2, obj_x2, obj_cell_4_2), 2).
senses(s2(c_in_2, obj_x3, obj_cell_4_3), 2).
senses(s2(c_in_1, obj_x1, obj_cell_4_2), 3).
senses(s2(c_in_2, obj_x2, obj_cell_5_2), 3).
senses(s2(c_in_2, obj_x3, obj_cell_4_3), 3).
senses(s2(c_in_1, obj_x1, obj_cell_4_3), 4).
senses(s2(c_in_2, obj_x2, obj_cell_5_2), 4).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 4).
senses(s2(c_in_1, obj_x1, obj_cell_5_3), 5).
senses(s2(c_in_2, obj_x2, obj_cell_5_2), 5).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 5).
senses(s2(c_in_1, obj_x1, obj_cell_5_2), 6).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 6).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 6).
senses(s2(c_in_1, obj_x1, obj_cell_4_2), 7).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 7).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 7).
senses(s2(c_in_1, obj_x1, obj_cell_3_2), 8).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 8).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 8).
senses(s2(c_in_1, obj_x1, obj_cell_3_3), 9).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 9).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 9).
senses(s2(c_in_1, obj_x1, obj_cell_3_4), 10).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 10).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 10).
senses(s2(c_in_1, obj_x1, obj_cell_2_4), 11).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 11).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 11).
senses(s2(c_in_1, obj_x1, obj_cell_1_4), 12).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 12).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 12).
senses(s2(c_in_1, obj_x1, obj_cell_1_4), 13).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 13).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 13).
senses(s2(c_in_1, obj_x1, obj_cell_1_3), 14).
senses(s2(c_in_2, obj_x2, obj_cell_5_1), 14).
senses(s2(c_in_2, obj_x3, obj_cell_4_4), 14).

% Exogenous actions
exogenous(s(c_east, obj_x1), 1).
exogenous(s(c_east, obj_x1), 2).
exogenous(s(c_south, obj_x1), 3).
exogenous(s(c_east, obj_x1), 4).
exogenous(s(c_north, obj_x1), 5).
exogenous(s(c_west, obj_x1), 6).
exogenous(s(c_west, obj_x1), 7).
exogenous(s(c_south, obj_x1), 8).
exogenous(s(c_south, obj_x1), 9).
exogenous(s(c_west, obj_x1), 10).
exogenous(s(c_west, obj_x1), 11).
exogenous(s(c_west, obj_x1), 12).
exogenous(s(c_north, obj_x1), 13).
exogenous(s(c_noop, obj_x1), 14).

% Elements
is_object(obj_x1).
is_object(obj_x2).
is_object(obj_x3).
is_object(obj_cell_1_1).
is_object(obj_cell_1_2).
is_object(obj_cell_1_3).
is_object(obj_cell_1_4).
is_object(obj_cell_2_1).
is_object(obj_cell_2_2).
is_object(obj_cell_2_3).
is_object(obj_cell_2_4).
is_object(obj_cell_3_1).
is_object(obj_cell_3_2).
is_object(obj_cell_3_3).
is_object(obj_cell_3_4).
is_object(obj_cell_4_1).
is_object(obj_cell_4_2).
is_object(obj_cell_4_3).
is_object(obj_cell_4_4).
is_object(obj_cell_5_1).
is_object(obj_cell_5_2).
is_object(obj_cell_5_3).
is_object(obj_cell_5_4).
is_object(obj_cell_6_1).
is_object(obj_cell_6_2).
is_object(obj_cell_6_3).
is_object(obj_cell_6_4).
is_object(obj_cell_7_1).
is_object(obj_cell_7_2).
is_object(obj_cell_7_3).
is_object(obj_cell_7_4).
is_cell(obj_cell_1_1).
is_cell(obj_cell_1_2).
is_cell(obj_cell_1_3).
is_cell(obj_cell_1_4).
is_cell(obj_cell_2_1).
is_cell(obj_cell_2_2).
is_cell(obj_cell_2_3).
is_cell(obj_cell_2_4).
is_cell(obj_cell_3_1).
is_cell(obj_cell_3_2).
is_cell(obj_cell_3_3).
is_cell(obj_cell_3_4).
is_cell(obj_cell_4_1).
is_cell(obj_cell_4_2).
is_cell(obj_cell_4_3).
is_cell(obj_cell_4_4).
is_cell(obj_cell_5_1).
is_cell(obj_cell_5_2).
is_cell(obj_cell_5_3).
is_cell(obj_cell_5_4).
is_cell(obj_cell_6_1).
is_cell(obj_cell_6_2).
is_cell(obj_cell_6_3).
is_cell(obj_cell_6_4).
is_cell(obj_cell_7_1).
is_cell(obj_cell_7_2).
is_cell(obj_cell_7_3).
is_cell(obj_cell_7_4).

% Concepts
is_concept(in_1).
is_concept(in_2).
is_concept(noop).
is_concept(east).
is_concept(west).
is_concept(north).
is_concept(south).

% Actions
is_exogenous(c_noop).
is_exogenous(c_east).
is_exogenous(c_west).
is_exogenous(c_north).
is_exogenous(c_south).

% Cell adjacency
permanent(isa2(p_right, obj_cell_1_1, obj_cell_2_1)).
permanent(isa2(p_right, obj_cell_2_1, obj_cell_3_1)).
permanent(isa2(p_right, obj_cell_3_1, obj_cell_4_1)).
permanent(isa2(p_right, obj_cell_4_1, obj_cell_5_1)).
permanent(isa2(p_right, obj_cell_5_1, obj_cell_6_1)).
permanent(isa2(p_right, obj_cell_6_1, obj_cell_7_1)).
permanent(isa2(p_right, obj_cell_1_2, obj_cell_2_2)).
permanent(isa2(p_right, obj_cell_2_2, obj_cell_3_2)).
permanent(isa2(p_right, obj_cell_3_2, obj_cell_4_2)).
permanent(isa2(p_right, obj_cell_4_2, obj_cell_5_2)).
permanent(isa2(p_right, obj_cell_5_2, obj_cell_6_2)).
permanent(isa2(p_right, obj_cell_6_2, obj_cell_7_2)).
permanent(isa2(p_right, obj_cell_1_3, obj_cell_2_3)).
permanent(isa2(p_right, obj_cell_2_3, obj_cell_3_3)).
permanent(isa2(p_right, obj_cell_3_3, obj_cell_4_3)).
permanent(isa2(p_right, obj_cell_4_3, obj_cell_5_3)).
permanent(isa2(p_right, obj_cell_5_3, obj_cell_6_3)).
permanent(isa2(p_right, obj_cell_6_3, obj_cell_7_3)).
permanent(isa2(p_right, obj_cell_1_4, obj_cell_2_4)).
permanent(isa2(p_right, obj_cell_2_4, obj_cell_3_4)).
permanent(isa2(p_right, obj_cell_3_4, obj_cell_4_4)).
permanent(isa2(p_right, obj_cell_4_4, obj_cell_5_4)).
permanent(isa2(p_right, obj_cell_5_4, obj_cell_6_4)).
permanent(isa2(p_right, obj_cell_6_4, obj_cell_7_4)).
permanent(isa2(p_below, obj_cell_1_1, obj_cell_1_2)).
permanent(isa2(p_below, obj_cell_1_2, obj_cell_1_3)).
permanent(isa2(p_below, obj_cell_1_3, obj_cell_1_4)).
permanent(isa2(p_below, obj_cell_2_1, obj_cell_2_2)).
permanent(isa2(p_below, obj_cell_2_2, obj_cell_2_3)).
permanent(isa2(p_below, obj_cell_2_3, obj_cell_2_4)).
permanent(isa2(p_below, obj_cell_3_1, obj_cell_3_2)).
permanent(isa2(p_below, obj_cell_3_2, obj_cell_3_3)).
permanent(isa2(p_below, obj_cell_3_3, obj_cell_3_4)).
permanent(isa2(p_below, obj_cell_4_1, obj_cell_4_2)).
permanent(isa2(p_below, obj_cell_4_2, obj_cell_4_3)).
permanent(isa2(p_below, obj_cell_4_3, obj_cell_4_4)).
permanent(isa2(p_below, obj_cell_5_1, obj_cell_5_2)).
permanent(isa2(p_below, obj_cell_5_2, obj_cell_5_3)).
permanent(isa2(p_below, obj_cell_5_3, obj_cell_5_4)).
permanent(isa2(p_below, obj_cell_6_1, obj_cell_6_2)).
permanent(isa2(p_below, obj_cell_6_2, obj_cell_6_3)).
permanent(isa2(p_below, obj_cell_6_3, obj_cell_6_4)).
permanent(isa2(p_below, obj_cell_7_1, obj_cell_7_2)).
permanent(isa2(p_below, obj_cell_7_2, obj_cell_7_3)).
permanent(isa2(p_below, obj_cell_7_3, obj_cell_7_4)).

% Walls
permanent(isa(p_is_not_wall, obj_cell_1_1)).
permanent(isa(p_is_not_wall, obj_cell_1_2)).
permanent(isa(p_is_not_wall, obj_cell_1_3)).
permanent(isa(p_is_not_wall, obj_cell_1_4)).
permanent(isa(p_is_not_wall, obj_cell_2_1)).
permanent(isa(p_is_not_wall, obj_cell_2_2)).
permanent(isa(p_is_not_wall, obj_cell_2_3)).
permanent(isa(p_is_not_wall, obj_cell_2_4)).
permanent(isa(p_is_not_wall, obj_cell_3_1)).
permanent(isa(p_is_not_wall, obj_cell_3_2)).
permanent(isa(p_is_not_wall, obj_cell_3_3)).
permanent(isa(p_is_not_wall, obj_cell_3_4)).
permanent(isa(p_is_not_wall, obj_cell_4_1)).
permanent(isa(p_is_not_wall, obj_cell_4_2)).
permanent(isa(p_is_not_wall, obj_cell_4_3)).
permanent(isa(p_is_not_wall, obj_cell_4_4)).
permanent(isa(p_is_not_wall, obj_cell_5_1)).
permanent(isa(p_is_not_wall, obj_cell_5_2)).
permanent(isa(p_is_not_wall, obj_cell_5_3)).
permanent(isa(p_is_not_wall, obj_cell_5_4)).
permanent(isa(p_is_not_wall, obj_cell_6_1)).
permanent(isa(p_is_not_wall, obj_cell_6_2)).
permanent(isa(p_is_not_wall, obj_cell_6_3)).
permanent(isa(p_is_not_wall, obj_cell_6_4)).
permanent(isa(p_is_not_wall, obj_cell_7_1)).
permanent(isa(p_is_not_wall, obj_cell_7_2)).
permanent(isa(p_is_not_wall, obj_cell_7_3)).
permanent(isa(p_is_not_wall, obj_cell_7_4)).
#program step(t).
% ∃! clause for c_in_1 : at most one
:-
	holds(s2(c_in_1, X, Y), t),
	holds(s2(c_in_1, X, Y2), t),
	Y != Y2.

% ∃! clause for c_in_1 : at least one
:-
	permanent(isa(t_1, X)),
	is_time(t),
	not aux_c_in_1(X, t).

aux_c_in_1(X, t) :-
	holds(s2(c_in_1, X, _), t).

% Incompossibility for c_in_1
incompossible(s2(c_in_1, X, Y), s2(c_in_1, X, Y2)) :-
	permanent(isa(t_1, X)),
	permanent(isa(t_cell, Y)),
	permanent(isa(t_cell, Y2)),
	Y != Y2.

% ∃! clause for c_in_2 : at most one
:-
	holds(s2(c_in_2, X, Y), t),
	holds(s2(c_in_2, X, Y2), t),
	Y != Y2.

% ∃! clause for c_in_2 : at least one
:-
	permanent(isa(t_2, X)),
	is_time(t),
	not aux_c_in_2(X, t).

aux_c_in_2(X, t) :-
	holds(s2(c_in_2, X, _), t).

% Incompossibility for c_in_2
incompossible(s2(c_in_2, X, Y), s2(c_in_2, X, Y2)) :-
	permanent(isa(t_2, X)),
	permanent(isa(t_cell, Y)),
	permanent(isa(t_cell, Y2)),
	Y != Y2.

% Exclusions
% Every action is either noop, north, south, east, or west
% ∀X : man, noop(X) ⊕ north(X) ⊕ south(X) ⊕ east(X) ⊕ west(X)

% At most one
:-
	holds(s(c_noop, X), t),
	holds(s(c_east, X), t).
:-
	holds(s(c_noop, X), t),
	holds(s(c_west, X), t).
:-
	holds(s(c_noop, X), t),
	holds(s(c_north, X), t).
:-
	holds(s(c_noop, X), t),
	holds(s(c_south, X), t).
:-
	holds(s(c_east, X), t),
	holds(s(c_west, X), t).
:-
	holds(s(c_east, X), t),
	holds(s(c_north, X), t).
:-
	holds(s(c_east, X), t),
	holds(s(c_south, X), t).
:-
	holds(s(c_west, X), t),
	holds(s(c_north, X), t).
:-
	holds(s(c_west, X), t),
	holds(s(c_south, X), t).
:-
	holds(s(c_north, X), t),
	holds(s(c_south, X), t).

% At least one
:-
	permanent(isa(t_1, X)),
	is_time(t),
	not holds(s(c_noop, X), t),
	not holds(s(c_east, X), t),
	not holds(s(c_west, X), t),
	not holds(s(c_north, X), t),
	not holds(s(c_south, X), t).

#program base.
% Incompossibility
incompossible(s(c_noop, X), s(c_east, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_noop, X), s(c_west, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_noop, X), s(c_north, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_noop, X), s(c_south, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_east, X), s(c_west, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_east, X), s(c_north, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_east, X), s(c_south, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_west, X), s(c_north, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_west, X), s(c_south, X)) :-
	permanent(isa(t_1, X)).

incompossible(s(c_north, X), s(c_south, X)) :-
	permanent(isa(t_1, X)).

